<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pythonãƒ¬ãƒƒã‚¹ãƒ³ãƒ—ãƒ©ãƒ³ - å…¨10å›ã§é–¢æ•°ã¾ã§ãƒã‚¹ã‚¿ãƒ¼</title>
    <link rel="stylesheet" href="pop3_style.css">
    <!-- KaTeXã®CSSã¨JSã‚’èª­ã¿è¾¼ã¿ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>

    <style>
        /* è¿½åŠ ã‚¹ã‚¿ã‚¤ãƒ«: ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆå¼·åŒ–ã¨ã‚«ãƒ©ãƒ•ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ */
        body {
            background: linear-gradient(135deg, #ffdd57 0%, #ff9e57 50%, #ff6b9d 100%);
            background-attachment: fixed;
            color: #222;
            line-height: 1.6;
        }

        .container {
            background: linear-gradient(to bottom, #ffffff, #fff8e1);
            border: 5px solid #ff4081;
            box-shadow: 0 10px 30px rgba(255, 64, 129, 0.3);
        }

        h2 {
            background: linear-gradient(90deg, #ff4081, #ff9e00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            border-bottom: 3px solid #ff4081;
            padding-bottom: 10px;
        }

        h3 {
            color: #ff6b00;
            font-size: 1.5rem;
            margin-top: 20px;
            padding-left: 10px;
            border-left: 5px solid #ff4081;
        }

        ul {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            padding: 15px 20px 15px 40px;
            box-shadow: inset 0 0 10px rgba(255, 64, 129, 0.1);
            border: 2px dashed #ff9e57;
        }

        li {
            margin-bottom: 8px;
            padding-left: 5px;
        }

        li strong {
            color: #ff4081;
        }

        /* preã‚¿ã‚°å†…ã®ãƒã‚°ä¿®æ­£: ç™½èƒŒæ™¯ã«ç™½æ–‡å­—å•é¡Œã‚’è§£æ±º */
        pre, pre * {
            color: #222 !important;
            background-color: #f8f9fa !important;
        }

        pre {
            border: 3px solid #ff4081 !important;
            background: linear-gradient(to right, #f8f9fa, #e9ecef) !important;
            border-left: 10px solid #ff4081 !important;
            font-weight: bold;
        }

        code {
            color: #d63384 !important;
            font-weight: bold;
        }

        /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è‰²åˆ†ã‘ */
        .character:nth-child(odd) {
            background: linear-gradient(to right, #ffdd57, #ffecb3);
        }

        .character:nth-child(even) {
            background: linear-gradient(to right, #bbdefb, #e3f2fd);
        }

        .character {
            border-width: 4px;
            border-style: solid;
            border-image: linear-gradient(45deg, #ff4081, #ff9e00) 1;
            transition: all 0.4s ease;
        }

        .character:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
        }

        /* æ•°å¼è¡¨ç¤ºã®å¼·åŒ– */
        .katex {
            font-size: 1.2em !important;
            color: #d63384 !important;
        }

        .katex-display {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 15px;
            border: 2px solid #ff4081;
            overflow-x: auto;
            margin: 20px 0;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–èª¿æ•´ */
        @media (max-width: 768px) {
            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.3rem;
            }

            .character {
                padding: 15px;
            }
        }

        /* ç›®æ¬¡ã‚¹ã‚¿ã‚¤ãƒ« */
        .toc {
            background: linear-gradient(135deg, #ffecb3, #bbdefb);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 3px solid #ff4081;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .toc h3 {
            color: #ff4081;
            text-align: center;
            margin-top: 0;
        }

        .toc ul {
            columns: 2;
            column-gap: 30px;
        }

        @media (max-width: 768px) {
            .toc ul {
                columns: 1;
            }
        }

        /* =========================
           âœ… å‹•ãä»•æ§˜æ›¸ï¼ˆè¿½åŠ ï¼‰
           ========================= */
        .live-spec {
            margin: 25px 0 35px;
            padding: 20px;
            border-radius: 18px;
            border: 4px solid #ff4081;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.92), rgba(255, 236, 179, 0.85));
            box-shadow: 0 10px 22px rgba(0,0,0,0.12);
        }

        .live-spec p {
            margin: 10px 0 0;
        }

        .live-spec-grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 18px;
            margin-top: 15px;
        }

        @media (max-width: 900px) {
            .live-spec-grid {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255,255,255,0.85);
            border: 2px dashed #ff9e57;
            border-radius: 14px;
            padding: 14px;
            box-shadow: inset 0 0 10px rgba(255, 64, 129, 0.08);
        }

        .spec-list {
            margin: 0;
            padding-left: 18px;
        }

        .spec-list li {
            margin: 10px 0;
            padding: 10px 10px 10px 12px;
            background: rgba(255,255,255,0.7);
            border-radius: 12px;
            border: 2px solid rgba(255, 64, 129, 0.25);
        }

        .req-title {
            font-weight: 800;
            color: #222;
        }

        .badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 10px;
            border-radius: 999px;
            font-weight: 800;
            font-size: 0.9rem;
            vertical-align: middle;
            border: 2px solid transparent;
        }

        .badge.pending { background: rgba(187,222,251,0.9); border-color: rgba(30,136,229,0.45); color: #0d47a1; }
        .badge.pass { background: rgba(200,230,201,0.95); border-color: rgba(46,125,50,0.55); color: #1b5e20; }
        .badge.fail { background: rgba(255,205,210,0.95); border-color: rgba(198,40,40,0.55); color: #b71c1c; }

        .req-detail {
            margin-top: 6px;
            font-size: 0.95rem;
            color: #444;
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px 12px;
            margin-top: 10px;
        }

        @media (max-width: 600px) {
            .controls { grid-template-columns: 1fr; }
        }

        .field label {
            display: block;
            font-weight: 800;
            margin-bottom: 6px;
            color: #ff4081;
        }

        textarea, input[type="text"], input[type="number"] {
            width: 100%;
            box-sizing: border-box;
            border: 3px solid rgba(255, 64, 129, 0.45);
            border-radius: 12px;
            padding: 10px;
            font-size: 1rem;
            background: rgba(255,255,255,0.95);
            outline: none;
        }

        textarea:focus, input[type="text"]:focus, input[type="number"]:focus {
            border-color: rgba(255, 64, 129, 0.9);
            box-shadow: 0 0 0 4px rgba(255, 64, 129, 0.15);
        }

        .checks {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px 10px;
            margin-top: 8px;
        }

        @media (max-width: 600px) {
            .checks { grid-template-columns: 1fr; }
        }

        .checks label {
            display: flex;
            gap: 8px;
            align-items: center;
            padding: 8px 10px;
            border-radius: 12px;
            background: rgba(255, 236, 179, 0.6);
            border: 2px solid rgba(255, 158, 87, 0.35);
            font-weight: 700;
            color: #333;
        }

        .btn-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 12px;
        }

        .btn {
            cursor: pointer;
            border-radius: 999px;
            border: 3px solid #ff4081;
            background: rgba(255,255,255,0.95);
            padding: 10px 14px;
            font-weight: 900;
            color: #ff4081;
            transition: transform 0.06s ease, box-shadow 0.2s ease;
        }

        .btn:hover { transform: translateY(-1px); box-shadow: 0 8px 14px rgba(0,0,0,0.12); }
        .btn:active { transform: translateY(0px); }

        .btn.primary {
            background: linear-gradient(135deg, #ff4081, #ff9e00);
            color: white;
            border-color: rgba(255, 64, 129, 0.9);
        }

        .note {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(187, 222, 251, 0.55);
            border: 2px solid rgba(30, 136, 229, 0.25);
            color: #0d47a1;
            font-weight: 700;
        }

        .error {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(255,205,210,0.75);
            border: 2px solid rgba(198,40,40,0.25);
            color: #b71c1c;
            font-weight: 900;
            white-space: pre-wrap;
            display: none;
        }

        .summary {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(200,230,201,0.65);
            border: 2px solid rgba(46,125,50,0.2);
            color: #1b5e20;
            font-weight: 800;
        }

        table.result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            overflow: hidden;
            border-radius: 12px;
            border: 2px solid rgba(255, 64, 129, 0.35);
            background: rgba(255,255,255,0.95);
        }

        .result-table th, .result-table td {
            padding: 10px;
            border-bottom: 1px solid rgba(0,0,0,0.08);
        }

        .result-table th {
            text-align: left;
            background: rgba(255, 236, 179, 0.75);
            border-bottom: 2px solid rgba(255, 64, 129, 0.25);
        }

        .result-table td:nth-child(2), .result-table td:nth-child(3) {
            text-align: right;
            font-variant-numeric: tabular-nums;
        }

        .debug {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(255,255,255,0.85);
            border: 2px dashed rgba(255, 64, 129, 0.35);
            display: none;
            white-space: pre-wrap;
            word-break: break-word;
            font-weight: 700;
        }

        .test-report {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 12px;
            background: rgba(255,255,255,0.85);
            border: 2px solid rgba(255, 158, 87, 0.35);
        }

        .mini {
            font-size: 0.95rem;
            font-weight: 700;
            color: #444;
        }

        details {
            margin-top: 12px;
        }

        details summary {
            cursor: pointer;
            font-weight: 900;
            color: #ff4081;
        }
    </style>
</head>

<body>
    <header>
        Pythonãƒ¬ãƒƒã‚¹ãƒ³ãƒ—ãƒ©ãƒ³ - å…¨10å›ã§ã€Œé–¢æ•°ã«å…¥ã‚‹å‰æã€œé–¢æ•°ã§å°ã•ãä½œã‚Œã‚‹ã€ã¾ã§
    </header>

    <div class="container">

        <!-- =========================
             âœ… å‹•ãä»•æ§˜æ›¸ï¼ˆãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«è¿½åŠ ï¼‰
             ========================= -->
        <section id="liveSpec" class="live-spec">
            <h2>0å›ç›®ï¼šå‹•ãä»•æ§˜æ›¸ï¼ˆå®Ÿè¡Œã§ãã‚‹å—ã‘å…¥ã‚Œæ¡ä»¶ï¼‰â€” å˜èªé »åº¦ã‚¢ãƒŠãƒ©ã‚¤ã‚¶</h2>
            <p>
                ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€Œæ¯å›ã®ãƒŸãƒ‹æˆæœç‰©ã‚’ç©ã¿ä¸Šã’ã¦ã€æœ€å¾Œã«ãƒŸãƒ‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦çµ±åˆã™ã‚‹ã€ã¨ã„ã†æ–¹é‡ã«åˆã‚ã›ãŸã€
                <strong>â€œå‹•ãä»•æ§˜æ›¸â€</strong>ã§ã™ã€‚ä¸‹ã®ãƒ‡ãƒ¢ã‚’æ“ä½œã—ã€<strong>ä»•æ§˜ãƒ†ã‚¹ãƒˆ</strong>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€å—ã‘å…¥ã‚Œæ¡ä»¶ãŒè‡ªå‹•ã§åˆ¤å®šã•ã‚Œã¾ã™ã€‚
            </p>

            <div class="live-spec-grid">
                <div class="panel">
                    <h3>âœ… ä»•æ§˜ï¼ˆå—ã‘å…¥ã‚Œæ¡ä»¶ï¼‰</h3>
                    <ol class="spec-list" id="specList">
                        <li data-req="R1">
                            <span class="req-title">R1. ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚’è§£æã§ãã‚‹</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R2">
                            <span class="req-title">R2. æ­£è¦åŒ–ï¼ˆå¤§æ–‡å­—å°æ–‡å­—ãƒ»å¥èª­ç‚¹ï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã§ãã‚‹</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R3">
                            <span class="req-title">R3. é »åº¦ã‚’é›†è¨ˆã—ã€å›æ•°ã®é™é †ã§è¡¨ç¤ºã§ãã‚‹</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R4">
                            <span class="req-title">R4. ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆé™¤å¤–èªãƒ»æœ€å°æ–‡å­—æ•°ãƒ»æœ€å°å›æ•°ï¼‰ã«å¯¾å¿œ</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R5">
                            <span class="req-title">R5. æƒ³å®šå¤–å…¥åŠ›ï¼ˆç©ºå…¥åŠ›ï¼‰ã‚’ã‚¨ãƒ©ãƒ¼ã§å®‰å…¨ã«æ‰±ã†</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R6">
                            <span class="req-title">R6. çµæœã‚’ã‚³ãƒ”ãƒ¼ / CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R7">
                            <span class="req-title">R7. ä»•æ§˜ãƒ†ã‚¹ãƒˆã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å®Ÿè¡Œã§ãã‚‹</span>
                            <span class="badge pending">æœª</span>
                            <div class="req-detail"></div>
                        </li>
                        <li data-req="R8">
                            <span class="req-title">R8. ä¸»è¦å‡¦ç†ãŒé–¢æ•°ã«åˆ†å‰²ã•ã‚Œã¦ã„ã‚‹ï¼ˆtokenize / count / sort / exportï¼‰</span>
                            <span class="badge pass">OK</span>
                            <div class="req-detail mini">â€»ã“ã®è¦ä»¶ã¯â€œè¨­è¨ˆè¦ä»¶â€ã®ãŸã‚ã€å®Ÿè£…æ¸ˆã¿ã¨ã—ã¦å›ºå®šOK</div>
                        </li>
                    </ol>

                    <div class="btn-row">
                        <button class="btn primary" id="btnRunSpecTests">ğŸ§ª ä»•æ§˜ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                        <button class="btn" id="btnResetSpec">â†© ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>

                    <div class="test-report" id="specTestReport">
                        <div class="mini">ã“ã“ã«ä»•æ§˜ãƒ†ã‚¹ãƒˆã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
                    </div>

                    <details>
                        <summary>ã“ã®ã‚¢ãƒ—ãƒªãŒã€Œ10å›ã®ç©ã¿ä¸Šã’ã€ã«å¯¾å¿œã™ã‚‹ãƒã‚¤ãƒ³ãƒˆ</summary>
                        <ul>
                            <li><strong>2å›ç›®</strong>ï¼šå…¥åŠ›ï¼ˆtextareaï¼‰ï¼‹æ–‡å­—åˆ—å‡¦ç†ï¼ˆæ­£è¦åŒ–ãƒ»åˆ†å‰²ï¼‰</li>
                            <li><strong>3å›ç›®</strong>ï¼šé…åˆ—ï¼ˆtokensï¼‰ã‚’ãƒ«ãƒ¼ãƒ—ã§å‡¦ç†</li>
                            <li><strong>4å›ç›®</strong>ï¼šè¾æ›¸ç›¸å½“ï¼ˆMapï¼‰ã§é »åº¦ã‚«ã‚¦ãƒ³ãƒˆ</li>
                            <li><strong>5å›ç›®</strong>ï¼šæ¡ä»¶åˆ†å²ã§ãƒ•ã‚£ãƒ«ã‚¿ï¼ã‚¬ãƒ¼ãƒ‰ç¯€ï¼ˆç©ºå…¥åŠ›ãƒã‚§ãƒƒã‚¯ï¼‰</li>
                            <li><strong>7å›ç›®</strong>ï¼šãƒ‡ãƒãƒƒã‚°è¡¨ç¤ºï¼ˆtokensãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰ã§åŸå› è¿½è·¡ã—ã‚„ã™ã</li>
                            <li><strong>9å›ç›®</strong>ï¼šå‡¦ç†ã‚’é–¢æ•°ã«åˆ†å‰²ï¼ˆtokenize â†’ count â†’ sort â†’ renderï¼‰</li>
                            <li><strong>10å›ç›®</strong>ï¼šè¦ä»¶ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ãƒ†ã‚¹ãƒˆï¼‰ã‚’çµ±åˆã—ã¦å®Œæˆ</li>
                        </ul>
                    </details>
                </div>

                <div class="panel">
                    <h3>ğŸ§© ãƒ‡ãƒ¢ï¼ˆä»•æ§˜ã‚’æº€ãŸã™ã‹æ“ä½œã§ç¢ºèªï¼‰</h3>

                    <div class="field">
                        <label for="wfText">å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ</label>
                        <textarea id="wfText" rows="7" placeholder="æ–‡ç« ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼ˆä¾‹ï¼šHello hello world!ï¼‰"></textarea>
                    </div>

                    <div class="controls">
                        <div class="field">
                            <label for="wfStopwords">é™¤å¤–èªï¼ˆã‚¹ãƒšãƒ¼ã‚¹ or ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
                            <input id="wfStopwords" type="text" placeholder="ä¾‹: a the ã® ã« ã¯ ã§ã™ ã¾ã™" />
                        </div>

                        <div class="field">
                            <label for="wfTopN">è¡¨ç¤ºã™ã‚‹ä¸Šä½Nä»¶</label>
                            <input id="wfTopN" type="number" min="1" max="200" value="10" />
                        </div>

                        <div class="field">
                            <label for="wfMinLen">æœ€å°æ–‡å­—æ•°</label>
                            <input id="wfMinLen" type="number" min="1" max="50" value="1" />
                        </div>

                        <div class="field">
                            <label for="wfMinCount">æœ€å°å›æ•°</label>
                            <input id="wfMinCount" type="number" min="1" max="9999" value="1" />
                        </div>
                    </div>

                    <div class="checks">
                        <label><input type="checkbox" id="optCaseInsensitive" checked> å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„</label>
                        <label><input type="checkbox" id="optStripPunct" checked> å¥èª­ç‚¹ãƒ»è¨˜å·ã‚’ç„¡è¦–ã™ã‚‹</label>
                        <label><input type="checkbox" id="optIncludeNumbers"> æ•°å­—ã‚’ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã—ã¦æ‰±ã†</label>
                        <label><input type="checkbox" id="optLiveMode"> ãƒ©ã‚¤ãƒ–è§£æï¼ˆå…¥åŠ›å¤‰æ›´ã§è‡ªå‹•ï¼‰</label>
                        <label><input type="checkbox" id="optDebug"> ãƒ‡ãƒãƒƒã‚°è¡¨ç¤ºï¼ˆtokensï¼‰</label>
                    </div>

                    <div class="btn-row">
                        <button class="btn" id="btnSample">âœ ã‚µãƒ³ãƒ—ãƒ«å…¥åŠ›</button>
                        <button class="btn primary" id="btnAnalyze">â–¶ è§£æ</button>
                        <button class="btn" id="btnClear">ğŸ§¹ ã‚¯ãƒªã‚¢</button>
                        <button class="btn" id="btnCopy">ğŸ“‹ çµæœã‚³ãƒ”ãƒ¼</button>
                        <button class="btn" id="btnExportCsv">â¬‡ CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    </div>

                    <div class="error" id="wfError"></div>
                    <div class="summary" id="wfSummary">ç·ãƒˆãƒ¼ã‚¯ãƒ³: 0 / ãƒ¦ãƒ‹ãƒ¼ã‚¯: 0 / è¡¨ç¤º: 0</div>

                    <table class="result-table" aria-label="å˜èªé »åº¦ã®çµæœ">
                        <thead>
                            <tr>
                                <th>å˜èª</th>
                                <th>å›æ•°</th>
                                <th>å‰²åˆ</th>
                            </tr>
                        </thead>
                        <tbody id="wfTableBody">
                            <tr><td colspan="3" style="text-align:center;">ã¾ã è§£æã—ã¦ã„ã¾ã›ã‚“</td></tr>
                        </tbody>
                    </table>

                    <div class="debug" id="wfDebug"></div>

                    <div class="note">
                        ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šã¾ãšã¯ã€ŒğŸ§ª ä»•æ§˜ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ã‚’æŠ¼ã™ã¨ã€å—ã‘å…¥ã‚Œæ¡ä»¶ãŒè‡ªå‹•åˆ¤å®šã•ã‚Œã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </section>

        <!-- æ—¢å­˜ç›®æ¬¡ï¼ˆå…ˆé ­ã«ã€Œå‹•ãä»•æ§˜æ›¸ã€ã‚’è¿½åŠ ï¼‰ -->
        <div class="toc">
            <h3>ğŸ“š ãƒ¬ãƒƒã‚¹ãƒ³ç›®æ¬¡</h3>
            <ul>
                <li><a href="#liveSpec">0å›ç›®ï¼šå‹•ãä»•æ§˜æ›¸ï¼ˆå˜èªé »åº¦ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ï¼‰</a></li>
                <li><a href="#lesson1">1å›ç›®ï¼šç’°å¢ƒæ§‹ç¯‰ï¼†æœ€åˆã«å‹•ã‹ã™</a></li>
                <li><a href="#lesson2">2å›ç›®ï¼šå…¥åŠ›ãƒ»å‹ãƒ»æ–‡å­—åˆ—</a></li>
                <li><a href="#lesson3">3å›ç›®ï¼šãƒªã‚¹ãƒˆï¼†forãƒ«ãƒ¼ãƒ—åŸºç¤</a></li>
                <li><a href="#lesson4">4å›ç›®ï¼šè¾æ›¸ï¼ˆdictï¼‰ï¼†é »åº¦ã‚«ã‚¦ãƒ³ãƒˆ</a></li>
                <li><a href="#lesson5">5å›ç›®ï¼šæ¡ä»¶åˆ†å²ãƒ»çœŸå½å€¤ãƒ»åˆ¤å®šã®ä½œæ³•</a></li>
                <li><a href="#lesson6">6å›ç›®ï¼šwhile / break / continue</a></li>
                <li><a href="#lesson7">7å›ç›®ï¼šã‚¨ãƒ©ãƒ¼ã®èª­ã¿æ–¹ï¼†ãƒ‡ãƒãƒƒã‚°åŸºç¤</a></li>
                <li><a href="#lesson8">8å›ç›®ï¼šã‚³ãƒ¼ãƒ‰ä½œæ³•â†’é–¢æ•°ã®"å¿…è¦æ€§"ã‚’ä½“æ„Ÿ</a></li>
                <li><a href="#lesson9">9å›ç›®ï¼šé–¢æ•°å…¥é–€ï¼ˆdef / å¼•æ•° / returnï¼‰</a></li>
                <li><a href="#lesson10">10å›ç›®ï¼šãƒŸãƒ‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆçµ±åˆï¼‰</a></li>
            </ul>
        </div>

        <p><strong>å…¨10å›</strong>ã§ã€Œé–¢æ•°ã«å…¥ã‚‹å‰æã€œé–¢æ•°ã§å°ã•ãä½œã‚Œã‚‹ã€ã¾ã§æŒã£ã¦ã„ããƒ¬ãƒƒã‚¹ãƒ³ãƒ—ãƒ©ãƒ³ã§ã™ï¼ˆæ¯å›"ãƒŸãƒ‹æˆæœç‰©"ãŒæ®‹ã‚‹æ§‹æˆï¼‰ã€‚</p>

        <div id="lesson1" class="character">
            <h2>1å›ç›®ï¼šç’°å¢ƒæ§‹ç¯‰ï¼†æœ€åˆã«å‹•ã‹ã™ï¼ˆS_runï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li><code>.py</code> ã‚’è‡ªåŠ›ã§å®Ÿè¡Œã§ãã‚‹ï¼<code>print()</code>ã§ç¢ºèªã§ãã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li>Pythonå®Ÿè¡Œï¼ˆVSCode or ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰</li>
                <li><code>print()</code> / ã‚³ãƒ¡ãƒ³ãƒˆ <code>#</code></li>
                <li>å¤‰æ•°ã¨ä»£å…¥ã€ç°¡å˜ãªè¨ˆç®—</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li><code>hello.py</code>ï¼šè‡ªå·±ç´¹ä»‹ã‚’3è¡Œå‡ºã™</li>
                <li><code>calc.py</code>ï¼šè¶³ã—ç®—ãƒ»å‰²ã‚Šç®—ã‚’ã—ã¦çµæœã‚’è¡¨ç¤º</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>ã€Œä»Šæ—¥ã®æ°—åˆ†ã‚¹ã‚³ã‚¢ã€ã‚’å…¥åŠ›ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ<code>input</code>ã¯æ¬¡å›ã§OKã€ä»Šã¯å›ºå®šå€¤ã§ã‚‚å¯ï¼‰</li>
            </ul>
        </div>

        <div id="lesson2" class="character">
            <h2>2å›ç›®ï¼šå…¥åŠ›ãƒ»å‹ãƒ»æ–‡å­—åˆ—ï¼ˆS_run + S_dataï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li><code>input()</code> â†’ å‹å¤‰æ› â†’ çµæœè¡¨ç¤ºï¼ˆf-stringï¼‰ã¾ã§é€šã›ã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li><code>input()</code>ã€<code>int()</code>/<code>float()</code>/<code>str()</code></li>
                <li><code>type()</code> ã§å‹ç¢ºèª</li>
                <li>æ–‡å­—åˆ—ï¼š<code>split</code> / <code>strip</code> / é€£çµã€f-string</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>å¹´é½¢ã‚’å…¥åŠ›â†’ã€Œ10å¹´å¾Œã€è¡¨ç¤º</li>
                <li><code>"1 2 3"</code> ã‚’å…¥åŠ›â†’åˆè¨ˆã‚’è¡¨ç¤ºï¼ˆ<code>split</code>â†’<code>int</code>ï¼‰</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>2ã¤ã®æ•°ã‚’å…¥åŠ›ã—ã¦ã€Œåˆè¨ˆãƒ»å·®ãƒ»ç©ãƒ»å•†ã€ã‚’è¡¨ç¤º</li>
            </ul>
        </div>

        <div id="lesson3" class="character">
            <h2>3å›ç›®ï¼šãƒªã‚¹ãƒˆï¼†forãƒ«ãƒ¼ãƒ—åŸºç¤ï¼ˆS_data + S_flowï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li><code>list</code> ã‚’ä½œã£ã¦ <code>for</code> ã§å›ã—ã€é›†è¨ˆã§ãã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li><code>list</code>ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€<code>append</code>, <code>len</code>, <code>in</code></li>
                <li><code>for</code>ï¼š<code>range</code>ã€åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆåˆè¨ˆãƒ»æœ€å¤§ï¼‰</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>æ•°åˆ—ãƒªã‚¹ãƒˆã®åˆè¨ˆãƒ»å¹³å‡ãƒ»æœ€å¤§ã‚’å‡ºã™</li>
                <li><code>enumerate</code>ã§ã€Œç•ªå·: å€¤ã€ã‚’è¡¨ç¤º</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>å…¥åŠ›ã•ã‚ŒãŸæ•°åˆ—ï¼ˆã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šï¼‰ã‹ã‚‰ã€Œå¶æ•°ã ã‘ãƒªã‚¹ãƒˆåŒ–ã—ã¦è¡¨ç¤ºã€</li>
            </ul>
        </div>

        <div id="lesson4" class="character">
            <h2>4å›ç›®ï¼šè¾æ›¸ï¼ˆdictï¼‰ï¼†é »åº¦ã‚«ã‚¦ãƒ³ãƒˆï¼ˆS_dataï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li><code>dict</code> ã§ã€Œé›†è¨ˆã€ã‚’æ›¸ã‘ã‚‹ï¼ˆç‹é“ã‚¹ã‚­ãƒ«ï¼‰</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li><code>dict</code>ï¼šè¿½åŠ ãƒ»æ›´æ–°ã€<code>get</code>, <code>.items()</code></li>
                <li>é »åº¦ã‚«ã‚¦ãƒ³ãƒˆã®å‹ï¼ˆ<code>d[x] = d.get(x,0)+1</code>ï¼‰</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>å˜èªã®å‡ºç¾å›æ•°ã‚’æ•°ãˆã‚‹ï¼ˆç°¡æ˜“ï¼šã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šï¼‰</li>
                <li>æˆç¸¾ï¼ˆåå‰â†’ç‚¹æ•°ï¼‰ã‚’dictã«å…¥ã‚Œã¦å¹³å‡/æœ€é«˜ç‚¹</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>æ–‡ç« ã‚’å…¥åŠ›â†’å˜èªé »åº¦TOP3ã‚’è¡¨ç¤ºï¼ˆã‚½ãƒ¼ãƒˆã¯æ¬¡å›ç°¡æ˜“ã§ã‚‚OKï¼‰</li>
            </ul>
        </div>

        <div id="lesson5" class="character">
            <h2>5å›ç›®ï¼šæ¡ä»¶åˆ†å²ãƒ»çœŸå½å€¤ãƒ»åˆ¤å®šã®ä½œæ³•ï¼ˆS_flow + S_syntaxï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li><code>if/elif/else</code> ã‚’è‡ªç„¶ã«æ›¸ã‘ã‚‹ï¼ˆå¢ƒç•Œæ¡ä»¶ã‚‚æ„è­˜ï¼‰</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li>æ¯”è¼ƒæ¼”ç®—å­ã€<code>and</code>/<code>or</code>/<code>not</code></li>
                <li>ã‚ˆãã‚ã‚‹ãƒŸã‚¹ï¼š<code>=</code> vs <code>==</code></li>
                <li>ã‚¬ãƒ¼ãƒ‰ç¯€ï¼ˆå…ˆã«å¼¾ãï¼‰ã¨ã„ã†è€ƒãˆæ–¹</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>é€æ–™è¨ˆç®—ï¼ˆâ—‹å††ä»¥ä¸Šã§ç„¡æ–™ã€ãªã©ï¼‰</li>
                <li>æˆç¸¾åˆ¤å®šï¼ˆA/B/Cã€æ¬ å¸­ãªã©æ¡ä»¶è¿½åŠ ï¼‰</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦åˆ¤å®šï¼ˆé•·ã•ã€æ•°å­—å«ã‚€ã€ãªã©è¤‡æ•°æ¡ä»¶ï¼‰</li>
            </ul>
        </div>

        <div id="lesson6" class="character">
            <h2>6å›ç›®ï¼šwhile / break / continueï¼ˆS_flowï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li>"çµ‚ã‚ã‚‹while"ã‚’æ›¸ã‘ã‚‹ã€ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’é¿ã‘ã‚‰ã‚Œã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li><code>while</code> ã®å…¸å‹ï¼ˆå›æ•°ãƒ»å…¥åŠ›ãŒæ­£ã—ã„ã¾ã§ãƒ»è¦‹ã¤ã‹ã‚‹ã¾ã§ï¼‰</li>
                <li><code>break</code>/<code>continue</code> ã®ä½¿ã„æ‰€</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>æ•°å½“ã¦ã‚²ãƒ¼ãƒ ï¼ˆè©¦è¡Œå›æ•°ã¤ãï¼‰</li>
                <li>ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¼CLIï¼ˆ1:è¿½åŠ  2:è¡¨ç¤º 0:çµ‚äº† ã¿ãŸã„ãªï¼‰</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>å˜èªå½“ã¦/ã—ã‚Šã¨ã‚Šé¢¨ãªã©ã€<code>while</code> ã‚’ä½¿ã£ãŸå°ã‚²ãƒ¼ãƒ </li>
            </ul>
        </div>

        <div id="lesson7" class="character">
            <h2>7å›ç›®ï¼šã‚¨ãƒ©ãƒ¼ã®èª­ã¿æ–¹ï¼†ãƒ‡ãƒãƒƒã‚°åŸºç¤ï¼ˆS_debugï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li>Tracebackã‚’è¦‹ã¦ã€ŒåŸå› â†’ä¿®æ­£ã€ã¾ã§è¾¿ã‚Œã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li>Tracebackã®èª­ã¿æ–¹ï¼ˆè½ã¡ãŸè¡Œãƒ»ä¾‹å¤–åï¼‰</li>
                <li>ä»£è¡¨ä¾‹å¤–ï¼šName/Type/Value/Index/KeyError</li>
                <li>ãƒ‡ãƒãƒƒã‚°ï¼š<code>print</code>, <code>type</code>, <code>repr</code>, å°ã•ã„å…¥åŠ›ã§è©¦ã™</li>
                <li><code>assert</code> ã®ä½¿ã„æ–¹ï¼ˆå‰æãƒã‚§ãƒƒã‚¯ï¼‰</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’ï¼ˆãƒã‚°æ²»ã—é“å ´ï¼‰</h3>
            <ul>
                <li>ã‚ã–ã¨å£Šã—ãŸ5æœ¬ã®çŸ­ã„ã‚³ãƒ¼ãƒ‰ã‚’ç›´ã™ï¼ˆãƒªã‚¹ãƒˆç¯„å›²ã€å‹å¤‰æ›ã€ã‚­ãƒ¼ç­‰ï¼‰</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>è‡ªä½œã‚³ãƒ¼ãƒ‰ã«ã€Œæƒ³å®šå¤–å…¥åŠ›ã€ã‚’3ã¤å…¥ã‚Œã¦å£Šã—ã€ç›´ã™ãƒ­ã‚°ã‚’æ›¸ã„ã¦ãã‚‹ï¼ˆä½•ãŒåŸå› ã ã£ãŸã‹ï¼‰</li>
            </ul>
        </div>

        <div id="lesson8" class="character">
            <h2>8å›ç›®ï¼šã‚³ãƒ¼ãƒ‰ä½œæ³•ï¼ˆèª­ã¿ã‚„ã™ã•ï¼‰â†’ é–¢æ•°ã®"å¿…è¦æ€§"ã‚’ä½“æ„Ÿï¼ˆS_styleï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li>èª­ã¿ã‚„ã™ãæ•´ãˆã€é‡è¤‡ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ï¼ˆé–¢æ•°ã¸ã®æ©‹æ¸¡ã—ï¼‰</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li>å‘½åã€ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼å›é¿ã€æ—©æœŸreturnã®ç™ºæƒ³</li>
                <li>"åŒã˜å‡¦ç†ãŒ2å›å‡ºãŸã‚‰ã¾ã¨ã‚ã‚‹"ã¨ã„ã†åŸºæº–</li>
                <li>ï¼ˆä»»æ„ï¼‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿/ãƒªãƒ³ã‚¿ã®å­˜åœ¨ç´¹ä»‹ï¼ˆblack/ruffç­‰ï¼‰</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li>æ±šã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼ˆå¤‰æ•°åãƒ»æ”¹è¡Œãƒ»é‡è¤‡å‰Šæ¸›ã ã‘ï¼‰</li>
                <li>ã€Œã“ã“ã¯é–¢æ•°ã«ã§ããã†ã€ã‚’ãƒãƒ¼ã‚­ãƒ³ã‚°</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>è‡ªåˆ†ã®å®¿é¡Œã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒ©ã‚¤ãƒˆã—ã¦èª­ã¿ã‚„ã™ãã™ã‚‹ï¼ˆæå‡ºç‰©ã¯"ãƒ“ãƒ•ã‚©ãƒ¼/ã‚¢ãƒ•ã‚¿ãƒ¼"ï¼‰</li>
            </ul>
        </div>

        <div id="lesson9" class="character">
            <h2>9å›ç›®ï¼šé–¢æ•°å…¥é–€ï¼ˆdef / å¼•æ•° / returnï¼‰ï¼ˆé–¢æ•°ã¸ï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li>ã€Œå…¥åŠ›â†’å‡¦ç†â†’å‡ºåŠ›ã€ã‚’é–¢æ•°ã§åˆ‡ã‚Šå‡ºã›ã‚‹</li>
            </ul>
            <h3>å†…å®¹</h3>
            <ul>
                <li><code>def</code>ã€å¼•æ•°ã€<code>return</code>ã€å‰¯ä½œç”¨ï¼ˆprintï¼‰ã¨ã®é•ã„</li>
                <li>ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ï¼‰</li>
                <li>docstringï¼ˆçŸ­ãã§OKï¼‰</li>
            </ul>
            <h3>ãã®å ´æ¼”ç¿’</h3>
            <ul>
                <li><code>sum_list(nums)</code> / <code>is_even(n)</code> / <code>grade(score)</code> ãªã©å°é–¢æ•°ã‚’ä½œã‚‹</li>
                <li>6å›ç›®ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¼CLIã®ä¸€éƒ¨ã‚’é–¢æ•°åŒ–</li>
            </ul>
            <h3>å®¿é¡Œ</h3>
            <ul>
                <li>"é »åº¦ã‚«ã‚¦ãƒ³ãƒˆ"ã‚’ <code>tokenize(text)</code> ã¨ <code>count_words(words)</code> ã«åˆ†å‰²ã—ã¦å®Ÿè£…</li>
            </ul>
        </div>

        <div id="lesson10" class="character">
            <h2>10å›ç›®ï¼šãƒŸãƒ‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆçµ±åˆï¼‰</h2>
            <h3>ã‚´ãƒ¼ãƒ«</h3>
            <ul>
                <li>å°ã•ãªè¦ä»¶ã‚’åˆ†è§£ã—ã¦ã€é–¢æ•°ã‚’çµ„ã¿åˆã‚ã›ã¦å®Œæˆã•ã›ã‚‹</li>
            </ul>
            <h3>ãŠã™ã™ã‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã©ã‚Œã§ã‚‚OKï¼‰</h3>
            <ul>
                <li><strong>å®¶è¨ˆç°¿ãƒŸãƒ‹é›†è¨ˆ</strong>ï¼šå…¥åŠ›ï¼ˆå“ç›® é‡‘é¡ï¼‰â†’ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆè¨ˆã€æœ€å¤§æ”¯å‡º</li>
                <li><strong>å˜èªé »åº¦ã‚¢ãƒŠãƒ©ã‚¤ã‚¶</strong>ï¼šæ–‡ç« â†’é »åº¦TOP10ã€é™¤å¤–èªï¼ˆa/theç­‰ï¼‰å¯¾å¿œ</li>
                <li><strong>å°ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒª</strong>ï¼šå•é¡Œãƒªã‚¹ãƒˆâ†’æ¡ç‚¹ã€é–“é•ã„å¾©ç¿’</li>
            </ul>
            <h3>å¿…é ˆè¦ä»¶ï¼ˆå…±é€šï¼‰</h3>
            <ul>
                <li>3ã€œ6å€‹ã®é–¢æ•°ã«åˆ†å‰²ï¼ˆä¾‹ï¼šå…¥åŠ›å‡¦ç†ã€è¨ˆç®—ã€è¡¨ç¤ºï¼‰</li>
                <li>æƒ³å®šå¤–å…¥åŠ›ã¸ã®å¯¾ç­–ã‚’1ã¤å…¥ã‚Œã‚‹ï¼ˆç©ºå…¥åŠ›ãªã©ï¼‰</li>
                <li>æœ€ä½é™ã®ãƒ†ã‚¹ãƒˆï¼ˆprintç¢ºèª or assertï¼‰ã‚’ç”¨æ„</li>
            </ul>
            <h3>ãã®å ´ã§ã‚„ã‚‹ã“ã¨</h3>
            <ul>
                <li>ä»•æ§˜ã‚’ç®‡æ¡æ›¸ãâ†’é–¢æ•°åˆ†è§£â†’å®Ÿè£…â†’ãƒ‡ãƒãƒƒã‚°â†’æ•´å½¢</li>
            </ul>
            <h3>å®¿é¡Œï¼ˆä»•ä¸Šã’ï¼‰</h3>
            <ul>
                <li>READMEï¼ˆä½¿ã„æ–¹/ä¾‹å…¥åŠ›/å‡ºåŠ›ä¾‹ï¼‰ã‚’1æšæ›¸ã</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #ffecb3, #bbdefb); border-radius: 15px; border: 3px solid #ff4081;">
            <h3 style="color: #ff4081; margin-top: 0;">ğŸ¯ æœ€çµ‚ç›®æ¨™</h3>
            <p>å…¨10å›ã‚’é€šã—ã¦ã€<strong>ã€Œé–¢æ•°ã«å…¥ã‚‹å‰æã€œé–¢æ•°ã§å°ã•ãä½œã‚Œã‚‹ã€</strong>ã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã€æ¯å›ã®ãƒŸãƒ‹æˆæœç‰©ã‚’ç©ã¿ä¸Šã’ãªãŒã‚‰å®Ÿè·µçš„ãªPythonãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°åŠ›ã‚’é¤Šã„ã¾ã™ã€‚</p>
            <p style="font-size: 1.2rem; color: #d63384;"><strong>ã€Œå°ã•ãä½œã‚Šã€ç¢ºå®Ÿã«å‹•ã‹ã™ã€</strong> ç¿’æ…£ã‚’èº«ã«ã¤ã‘ã¾ã—ã‚‡ã†ï¼</p>
        </div>
    </div>

    <div class="footer">
        Pythonãƒ¬ãƒƒã‚¹ãƒ³ãƒ—ãƒ©ãƒ³ Â© 2023 - ãƒãƒƒãƒ—ã‚¢ãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã§æ¥½ã—ãå­¦ã¶ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
    </div>

    <script>
        // KaTeXã®è‡ªå‹•ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°è¨­å®š
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof renderMathInElement === 'function') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false},
                        {left: '\\(', right: '\\)', display: false},
                        {left: '\\[', right: '\\]', display: true}
                    ],
                    throwOnError: false
                });
            }
        });

        // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;

                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 20,
                        behavior: 'smooth'
                    });
                }
            });
        });

        /* =========================
           âœ… å‹•ãä»•æ§˜æ›¸ï¼šå˜èªé »åº¦ã‚¢ãƒŠãƒ©ã‚¤ã‚¶
           - tokenize â†’ count â†’ sort â†’ render
           ========================= */
        document.addEventListener('DOMContentLoaded', function() {
            const $ = (id) => document.getElementById(id);

            const state = {
                lastResult: null,
                lastConfig: null,
                liveTimer: null
            };

            function escapeHtml(s) {
                return String(s).replace(/[&<>"']/g, (ch) => ({
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#39;'
                }[ch]));
            }

            function clampInt(value, min, max, fallback) {
                const n = Number.parseInt(value, 10);
                if (Number.isNaN(n)) return fallback;
                return Math.min(max, Math.max(min, n));
            }

            function parseStopwords(raw, caseInsensitive) {
                const parts = String(raw || '')
                    .split(/[\s,]+/)
                    .map(s => s.trim())
                    .filter(Boolean);

                const set = new Set();
                for (const p of parts) {
                    set.add(caseInsensitive ? p.toLowerCase() : p);
                }
                return set;
            }

            // tokenize(text): æ–‡å­—åˆ—ã‚’ãƒˆãƒ¼ã‚¯ãƒ³é…åˆ—ã«ã™ã‚‹
            function tokenize(text, cfg) {
                let t = String(text || '').normalize('NFKC');
                if (cfg.caseInsensitive) t = t.toLowerCase();

                // å¥èª­ç‚¹ç„¡è¦–OFFã®å ´åˆã¯ã€ç©ºç™½åŒºåˆ‡ã‚Šã‚’å„ªå…ˆï¼ˆâ€œä»•æ§˜åˆ‡æ›¿â€ã®æŒ™å‹•ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ï¼‰
                if (!cfg.stripPunctuation) {
                    let rawTokens = t.split(/\s+/).filter(Boolean);
                    if (!cfg.includeNumbers) {
                        rawTokens = rawTokens.filter(tok => !/^\d+$/.test(tok));
                    }
                    rawTokens = rawTokens
                        .filter(tok => tok.length >= cfg.minLength)
                        .filter(tok => !cfg.stopwords.has(tok));
                    return rawTokens;
                }

                // å¥èª­ç‚¹ç„¡è¦–ONï¼šUnicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã€Œæ–‡å­—/æ•°å­—ã®é€£ç¶šã€ã‚’æŠ½å‡ºï¼ˆå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ã§é«˜ç²¾åº¦ï¼‰
                let matches = [];
                try {
                    const re = cfg.includeNumbers ? /[\p{L}\p{Nd}]+/gu : /[\p{L}]+/gu;
                    matches = t.match(re) || [];
                } catch (e) {
                    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆUnicodeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£æœªå¯¾å¿œç’°å¢ƒå‘ã‘ï¼‰
                    let cleaned = t.replace(/[^0-9A-Za-z\u00C0-\u024F\u3040-\u30FF\u3400-\u9FFF\s]+/g, ' ');
                    matches = cleaned.split(/\s+/).filter(Boolean);
                    if (!cfg.includeNumbers) {
                        matches = matches.filter(tok => !/^\d+$/.test(tok));
                    }
                }

                return matches
                    .filter(tok => tok.length >= cfg.minLength)
                    .filter(tok => !cfg.stopwords.has(tok))
                    .filter(tok => cfg.includeNumbers ? true : !/^\d+$/.test(tok));
            }

            // countWords(words): å‡ºç¾å›æ•°ã‚’æ•°ãˆã‚‹ï¼ˆMapï¼‰
            function countWords(words) {
                const freq = new Map();
                for (const w of words) {
                    freq.set(w, (freq.get(w) || 0) + 1);
                }
                return freq;
            }

            function sortedRows(freqMap) {
                const rows = Array.from(freqMap.entries()).map(([word, count]) => ({ word, count }));
                rows.sort((a, b) => (b.count - a.count) || a.word.localeCompare(b.word, 'ja'));
                return rows;
            }

            function analyzeText(text, cfg) {
                const raw = String(text || '').trim();
                const errors = [];

                // ã‚¬ãƒ¼ãƒ‰ç¯€ï¼ˆæƒ³å®šå¤–å…¥åŠ›å¯¾ç­–ï¼‰
                if (!raw) {
                    errors.push('å…¥åŠ›ãŒç©ºã§ã™ã€‚æ–‡ç« ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                    return {
                        errors,
                        tokens: [],
                        totalTokens: 0,
                        uniqueWords: 0,
                        rows: []
                    };
                }

                const tokens = tokenize(raw, cfg);
                const freq = countWords(tokens);
                let rows = sortedRows(freq);

                if (cfg.minCount > 1) {
                    rows = rows.filter(r => r.count >= cfg.minCount);
                }

                rows = rows.slice(0, cfg.topN);

                if (tokens.length === 0) {
                    errors.push('è§£æå¯¾è±¡ã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒ0ä»¶ã§ã—ãŸï¼ˆãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ãŒå³ã—ã™ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚');
                }

                return {
                    errors,
                    tokens,
                    totalTokens: tokens.length,
                    uniqueWords: freq.size,
                    rows
                };
            }

            function toTSV(result) {
                const lines = [];
                lines.push('word\tcount\tpercent');
                for (const r of result.rows) {
                    const percent = result.totalTokens ? ((r.count / result.totalTokens) * 100).toFixed(1) : '0.0';
                    lines.push(`${r.word}\t${r.count}\t${percent}`);
                }
                return lines.join('\n');
            }

            function toCSV(result) {
                const lines = [];
                lines.push('word,count,percent');
                for (const r of result.rows) {
                    const percent = result.totalTokens ? ((r.count / result.totalTokens) * 100).toFixed(1) : '0.0';
                    const safeWord = `"${String(r.word).replace(/"/g, '""')}"`;
                    lines.push(`${safeWord},${r.count},${percent}`);
                }
                return lines.join('\n');
            }

            function setReq(reqId, status, detailText) {
                const item = document.querySelector(`#specList li[data-req="${reqId}"]`);
                if (!item) return;

                const badge = item.querySelector('.badge');
                const detail = item.querySelector('.req-detail');

                badge.classList.remove('pending', 'pass', 'fail');

                if (status === 'pass') {
                    badge.classList.add('pass');
                    badge.textContent = 'OK';
                } else if (status === 'fail') {
                    badge.classList.add('fail');
                    badge.textContent = 'NG';
                } else {
                    badge.classList.add('pending');
                    badge.textContent = 'æœª';
                }

                if (detail) {
                    detail.textContent = detailText || '';
                }
            }

            function resetSpec() {
                setReq('R1', 'pending', '');
                setReq('R2', 'pending', '');
                setReq('R3', 'pending', '');
                setReq('R4', 'pending', '');
                setReq('R5', 'pending', '');
                setReq('R6', 'pending', '');
                setReq('R7', 'pending', '');
                // R8ã¯å›ºå®šOKï¼ˆHTMLå´ã§passè¡¨ç¤ºï¼‰
                $('specTestReport').innerHTML = '<div class="mini">ã“ã“ã«ä»•æ§˜ãƒ†ã‚¹ãƒˆã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>';
            }

            function getConfigFromUI() {
                const caseInsensitive = $('optCaseInsensitive').checked;
                const cfg = {
                    caseInsensitive,
                    stripPunctuation: $('optStripPunct').checked,
                    includeNumbers: $('optIncludeNumbers').checked,
                    topN: clampInt($('wfTopN').value, 1, 200, 10),
                    minLength: clampInt($('wfMinLen').value, 1, 50, 1),
                    minCount: clampInt($('wfMinCount').value, 1, 9999, 1),
                    stopwords: parseStopwords($('wfStopwords').value, caseInsensitive),
                };
                return cfg;
            }

            function renderResult(result) {
                const errorEl = $('wfError');
                if (result.errors.length) {
                    errorEl.style.display = 'block';
                    errorEl.textContent = result.errors.join('\n');
                } else {
                    errorEl.style.display = 'none';
                    errorEl.textContent = '';
                }

                $('wfSummary').innerHTML =
                    `ç·ãƒˆãƒ¼ã‚¯ãƒ³: <strong>${result.totalTokens}</strong> / ãƒ¦ãƒ‹ãƒ¼ã‚¯: <strong>${result.uniqueWords}</strong> / è¡¨ç¤º: <strong>${result.rows.length}</strong>`;

                const tbody = $('wfTableBody');
                tbody.innerHTML = '';

                if (result.rows.length === 0) {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `<td colspan="3" style="text-align:center;">çµæœãŒã‚ã‚Šã¾ã›ã‚“</td>`;
                    tbody.appendChild(tr);
                } else {
                    for (const r of result.rows) {
                        const tr = document.createElement('tr');
                        const percent = result.totalTokens ? ((r.count / result.totalTokens) * 100) : 0;
                        tr.innerHTML = `
                            <td>${escapeHtml(r.word)}</td>
                            <td>${r.count}</td>
                            <td>${percent.toFixed(1)}%</td>
                        `;
                        tbody.appendChild(tr);
                    }
                }

                const debugOn = $('optDebug').checked;
                const debugEl = $('wfDebug');
                if (debugOn) {
                    debugEl.style.display = 'block';
                    const preview = result.tokens.slice(0, 60).join(' / ');
                    debugEl.textContent = `tokens(${result.tokens.length}): ${preview}${result.tokens.length > 60 ? ' ...' : ''}`;
                } else {
                    debugEl.style.display = 'none';
                    debugEl.textContent = '';
                }
            }

            function updateSpecByInteraction(result, cfg) {
                // R1: è§£æã§ãã‚‹
                if (result && cfg) {
                    if (result.errors.length === 0 || (result.errors.length === 1 && result.errors[0].includes('ãƒˆãƒ¼ã‚¯ãƒ³ãŒ0ä»¶'))) {
                        setReq('R1', 'pass', 'è§£æã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚');
                    } else {
                        setReq('R1', 'fail', 'è§£æã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚');
                    }
                }

                // R5: ç©ºå…¥åŠ›
                if (result.errors.some(e => e.includes('å…¥åŠ›ãŒç©º'))) {
                    setReq('R5', 'fail', 'ç©ºå…¥åŠ›ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸï¼ˆã‚¨ãƒ©ãƒ¼è¡¨ç¤ºOKï¼‰ã€‚');
                } else {
                    // ç©ºå…¥åŠ›ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã„ãªã„æ™‚ç‚¹ã§â€œpassâ€ã«ã—ãªã„ï¼ˆä»•æ§˜ãƒ†ã‚¹ãƒˆã§ç¢ºå®šã•ã›ã‚‹ï¼‰
                }

                // R2: æ­£è¦åŒ–åˆ‡æ›¿ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è§¦ã£ãŸã‚‰â€œå€™è£œâ€ã¨ã—ã¦è¡¨ç¤ºï¼‰
                if (cfg.caseInsensitive || cfg.stripPunctuation) {
                    setReq('R2', 'pass', `caseInsensitive=${cfg.caseInsensitive}, stripPunctuation=${cfg.stripPunctuation}`);
                }

                // R3: ã‚«ã‚¦ãƒ³ãƒˆï¼†é™é †
                if (result.totalTokens > 0 && result.rows.length > 0) {
                    let sortedOk = true;
                    for (let i = 1; i < result.rows.length; i++) {
                        if (result.rows[i].count > result.rows[i - 1].count) {
                            sortedOk = false;
                            break;
                        }
                    }
                    setReq('R3', sortedOk ? 'pass' : 'fail', sortedOk ? 'é™é †ã‚½ãƒ¼ãƒˆOK' : 'ã‚½ãƒ¼ãƒˆé †ã‚’ç¢ºèªã—ã¦ãã ã•ã„');
                }

                // R4: ãƒ•ã‚£ãƒ«ã‚¿
                const usingFilter = (cfg.stopwords.size > 0) || (cfg.minLength > 1) || (cfg.minCount > 1);
                if (usingFilter) {
                    setReq('R4', 'pass', `stopwords=${cfg.stopwords.size}, minLen=${cfg.minLength}, minCount=${cfg.minCount}`);
                }
            }

            function doAnalyze(triggeredByLive) {
                const cfg = getConfigFromUI();
                const text = $('wfText').value;

                const result = analyzeText(text, cfg);
                state.lastResult = result;
                state.lastConfig = cfg;

                renderResult(result);
                updateSpecByInteraction(result, cfg);

                if (!triggeredByLive) {
                    // æ˜ç¤ºæ“ä½œã§ã€Œè§£æã§ãã‚‹ã€ã‚’å¼·ã‚ã«åˆ¤å®š
                    if (!result.errors.some(e => e.includes('å…¥åŠ›ãŒç©º'))) {
                        setReq('R1', 'pass', 'è§£æãƒœã‚¿ãƒ³ã§å®Ÿè¡Œã—ã¾ã—ãŸã€‚');
                    }
                }
            }

            async function copyToClipboard(text) {
                // HTTPSã§ãªã„ã¨å‹•ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ãŸã‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚‚ç”¨æ„
                try {
                    if (navigator.clipboard && navigator.clipboard.writeText) {
                        await navigator.clipboard.writeText(text);
                        return true;
                    }
                } catch (_) {}
                try {
                    const ta = document.createElement('textarea');
                    ta.value = text;
                    ta.style.position = 'fixed';
                    ta.style.left = '-9999px';
                    document.body.appendChild(ta);
                    ta.select();
                    const ok = document.execCommand('copy');
                    document.body.removeChild(ta);
                    return ok;
                } catch (_) {
                    return false;
                }
            }

            function download(filename, content, mime) {
                const blob = new Blob([content], { type: mime || 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }

            function runSpecTests() {
                const report = [];
                let allPass = true;

                // ãƒ†ã‚¹ãƒˆ1ï¼šå¤§æ–‡å­—å°æ–‡å­—ï¼‹å¥èª­ç‚¹é™¤å»
                {
                    const cfg = {
                        caseInsensitive: true,
                        stripPunctuation: true,
                        includeNumbers: false,
                        topN: 3,
                        minLength: 1,
                        minCount: 1,
                        stopwords: new Set()
                    };
                    const input = 'Apple apple banana, BANANA! kiwi';
                    const result = analyzeText(input, cfg);
                    const expected = [['apple',2], ['banana',2], ['kiwi',1]];

                    const actual = result.rows.map(r => [r.word, r.count]);
                    const ok =
                        result.errors.length === 0 &&
                        expected.length === actual.length &&
                        expected.every((e, i) => e[0] === actual[i][0] && e[1] === actual[i][1]);

                    report.push(`${ok ? 'âœ…' : 'âŒ'} T1 æ­£è¦åŒ–ï¼†å¥èª­ç‚¹ï¼ˆæœŸå¾…: apple2, banana2, kiwi1ï¼‰`);
                    if (!ok) allPass = false;

                    setReq('R2', ok ? 'pass' : 'fail', ok ? 'ãƒ†ã‚¹ãƒˆã§ç¢ºèªOK' : 'T1ãŒå¤±æ•—ã—ã¾ã—ãŸ');
                    setReq('R3', ok ? 'pass' : 'fail', ok ? 'é »åº¦é›†è¨ˆï¼†é †åºOK' : 'é »åº¦é›†è¨ˆ/é †åºã‚’ç¢ºèª');
                }

                // ãƒ†ã‚¹ãƒˆ2ï¼šé™¤å¤–èªï¼ˆstopwordsï¼‰
                {
                    const cfg = {
                        caseInsensitive: true,
                        stripPunctuation: true,
                        includeNumbers: false,
                        topN: 5,
                        minLength: 1,
                        minCount: 1,
                        stopwords: new Set(['the', 'a'])
                    };
                    const input = 'the the a cat cat cat';
                    const result = analyzeText(input, cfg);

                    const ok = result.errors.length === 0 && result.rows.length === 1 && result.rows[0].word === 'cat' && result.rows[0].count === 3;
                    report.push(`${ok ? 'âœ…' : 'âŒ'} T2 é™¤å¤–èªï¼ˆæœŸå¾…: cat3 ã®ã¿ï¼‰`);
                    if (!ok) allPass = false;

                    setReq('R4', ok ? 'pass' : 'fail', ok ? 'é™¤å¤–èªã®åæ˜ OK' : 'é™¤å¤–èªãŒåŠ¹ã„ã¦ã„ãªã„å¯èƒ½æ€§');
                }

                // ãƒ†ã‚¹ãƒˆ3ï¼šç©ºå…¥åŠ›ï¼ˆæƒ³å®šå¤–å…¥åŠ›å¯¾ç­–ï¼‰
                {
                    const cfg = {
                        caseInsensitive: true,
                        stripPunctuation: true,
                        includeNumbers: false,
                        topN: 10,
                        minLength: 1,
                        minCount: 1,
                        stopwords: new Set()
                    };
                    const input = '   ';
                    const result = analyzeText(input, cfg);
                    const ok = result.errors.some(e => e.includes('å…¥åŠ›ãŒç©º'));
                    report.push(`${ok ? 'âœ…' : 'âŒ'} T3 ç©ºå…¥åŠ›ã‚¬ãƒ¼ãƒ‰ï¼ˆæœŸå¾…: ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºï¼‰`);
                    if (!ok) allPass = false;

                    setReq('R5', ok ? 'pass' : 'fail', ok ? 'ç©ºå…¥åŠ›ã‚’å®‰å…¨ã«æ‰±ãˆã‚‹' : 'ç©ºå…¥åŠ›ã®æ‰±ã„ã‚’ä¿®æ­£');
                }

                setReq('R7', allPass ? 'pass' : 'fail', allPass ? 'å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼' : 'å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆãŒã‚ã‚Šã¾ã™');

                $('specTestReport').innerHTML = `
                    <div style="font-weight:900; color:${allPass ? '#1b5e20' : '#b71c1c'};">
                        ${allPass ? 'âœ… ä»•æ§˜ãƒ†ã‚¹ãƒˆï¼šåˆæ ¼' : 'âŒ ä»•æ§˜ãƒ†ã‚¹ãƒˆï¼šä¸åˆæ ¼'}
                    </div>
                    <div class="mini" style="margin-top:6px; white-space:pre-wrap;">${report.join('\n')}</div>
                `;
            }

            // --- UI wiring ---
            $('btnAnalyze').addEventListener('click', () => doAnalyze(false));

            $('btnClear').addEventListener('click', () => {
                $('wfText').value = '';
                $('wfStopwords').value = '';
                $('wfTopN').value = 10;
                $('wfMinLen').value = 1;
                $('wfMinCount').value = 1;
                $('optCaseInsensitive').checked = true;
                $('optStripPunct').checked = true;
                $('optIncludeNumbers').checked = false;
                $('optLiveMode').checked = false;
                $('optDebug').checked = false;
                $('wfError').style.display = 'none';
                $('wfError').textContent = '';
                $('wfSummary').textContent = 'ç·ãƒˆãƒ¼ã‚¯ãƒ³: 0 / ãƒ¦ãƒ‹ãƒ¼ã‚¯: 0 / è¡¨ç¤º: 0';
                $('wfTableBody').innerHTML = '<tr><td colspan="3" style="text-align:center;">ã¾ã è§£æã—ã¦ã„ã¾ã›ã‚“</td></tr>';
                $('wfDebug').style.display = 'none';
                $('wfDebug').textContent = '';
                resetSpec();
            });

            $('btnSample').addEventListener('click', () => {
                $('wfText').value =
`Python Python Python! é–¢æ•° function é–¢æ•°ã€‚
Hello hello world, world... 2025!
å˜èª é »åº¦ ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ ã‚’ ä½œã‚‹ã€‚å°ã•ã ä½œã‚Šã€ç¢ºå®Ÿã« å‹•ã‹ã™ã€‚`;
                $('wfStopwords').value = 'ã‚’ ã« ã¯ ã§ã™ ã¾ã™ a the';
                doAnalyze(false);
            });

            $('btnCopy').addEventListener('click', async () => {
                if (!state.lastResult) {
                    $('wfError').style.display = 'block';
                    $('wfError').textContent = 'å…ˆã«è§£æã—ã¦ãã ã•ã„ã€‚';
                    return;
                }
                const ok = await copyToClipboard(toTSV(state.lastResult));
                setReq('R6', ok ? 'pass' : 'fail', ok ? 'ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ' : 'ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶åˆ¶é™ã®å¯èƒ½æ€§ï¼‰');
            });

            $('btnExportCsv').addEventListener('click', () => {
                if (!state.lastResult) {
                    $('wfError').style.display = 'block';
                    $('wfError').textContent = 'å…ˆã«è§£æã—ã¦ãã ã•ã„ã€‚';
                    return;
                }
                const csv = toCSV(state.lastResult);
                const now = new Date();
                const filename = `wordfreq_${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')}.csv`;
                download(filename, csv, 'text/csv;charset=utf-8');
                setReq('R6', 'pass', `CSVã‚’æ›¸ãå‡ºã—ã¾ã—ãŸ: ${filename}`);
            });

            $('btnRunSpecTests').addEventListener('click', runSpecTests);
            $('btnResetSpec').addEventListener('click', resetSpec);

            // ãƒ©ã‚¤ãƒ–è§£æ
            function scheduleLiveAnalyze() {
                if (state.liveTimer) clearTimeout(state.liveTimer);
                state.liveTimer = setTimeout(() => doAnalyze(true), 260);
            }

            $('wfText').addEventListener('input', () => {
                if ($('optLiveMode').checked) scheduleLiveAnalyze();
            });

            // ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¤‰æ›´æ™‚ã‚‚ãƒ©ã‚¤ãƒ–ãªã‚‰å†è§£æ
            ['wfStopwords','wfTopN','wfMinLen','wfMinCount','optCaseInsensitive','optStripPunct','optIncludeNumbers','optDebug']
                .forEach(id => {
                    $(id).addEventListener('change', () => {
                        if ($('optLiveMode').checked) scheduleLiveAnalyze();
                    });
                });

            // åˆæœŸçŠ¶æ…‹
            resetSpec();
        });
    </script>
</body>
</html>