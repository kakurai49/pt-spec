<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Eã‚«ãƒ¼ãƒ‰é¢¨ã‚²ãƒ¼ãƒ  | file4</title>
<style>
:root{--a:255 211 106}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",Meiragyo,sans-serif;color:#eaf0ff;overflow-x:hidden}
a,button{color:inherit;font:inherit}
.stars,.stars2,.vignette{position:fixed;inset:0;pointer-events:none}
.stars{z-index:-3;opacity:.85;background-image:
radial-gradient(1px 1px at 10% 20%,rgba(255,255,255,.9) 50%,transparent 51%),
radial-gradient(1px 1px at 30% 80%,rgba(255,255,255,.7) 50%,transparent 51%),
radial-gradient(1px 1px at 70% 30%,rgba(255,255,255,.8) 50%,transparent 51%),
radial-gradient(2px 2px at 90% 60%,rgba(255,255,255,.5) 50%,transparent 51%),
radial-gradient(1px 1px at 40% 40%,rgba(255,255,255,.6) 50%,transparent 51%),
radial-gradient(1px 1px at 15% 55%,rgba(255,255,255,.6) 50%,transparent 51%);
background-size:260px 260px;animation:d1 90s linear infinite}
.stars2{z-index:-4;opacity:.55;filter:blur(.3px);background-image:
radial-gradient(1px 1px at 12% 72%,rgba(255,255,255,.7) 50%,transparent 51%),
radial-gradient(2px 2px at 52% 10%,rgba(255,255,255,.45) 50%,transparent 51%),
radial-gradient(1px 1px at 82% 42%,rgba(255,255,255,.65) 50%,transparent 51%),
radial-gradient(1px 1px at 35% 35%,rgba(255,255,255,.55) 50%,transparent 51%);
background-size:520px 520px;animation:d2 180s linear infinite}
.vignette{z-index:-2;background:
radial-gradient(circle at 50% 35%,rgba(190,150,60,.20),rgba(0,0,0,1) 65%),
radial-gradient(circle at 50% 35%,rgba(0,0,0,0) 0 55%,rgba(0,0,0,.88) 85%)}
@keyframes d1{to{transform:translate3d(-260px,260px,0)}}
@keyframes d2{to{transform:translate3d(-520px,520px,0)}}
@media (prefers-reduced-motion:reduce){.stars,.stars2{animation:none}}
header{position:sticky;top:0;backdrop-filter:blur(10px);background:rgba(0,0,25,.55);border-bottom:1px solid rgba(150,180,255,.18);z-index:10}
.wrap{max-width:980px;margin:0 auto;padding:14px 16px}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:42px;height:42px;border-radius:14px;display:grid;place-items:center;background:rgb(var(--a)/.14);border:1px solid rgb(var(--a)/.42);box-shadow:0 0 30px rgb(var(--a)/.10)}
.brand h1{margin:0;font-size:1.08rem;letter-spacing:.06em}
.brand p{margin:2px 0 0;opacity:.85;font-size:.92rem}
nav{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid rgba(150,180,255,.25);text-decoration:none}
.btn.primary{background:rgb(var(--a)/.14);border-color:rgb(var(--a)/.42)}
.btn:active{transform:translateY(1px)}
main{padding:18px 16px 40px}
h2{margin:0 0 10px;font-size:1.15rem}
p{margin:0 0 12px;opacity:.92;line-height:1.65}
.panel{border:1px solid rgba(150,180,255,.22);background:rgba(0,0,0,.35);border-radius:18px;padding:14px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.pill{padding:6px 10px;border-radius:999px;border:1px solid rgba(150,180,255,.22);background:rgba(0,0,0,.22);font-size:.9rem;opacity:.92}
#deck button{flex:1 1 140px}
#log{white-space:pre-wrap;line-height:1.55;opacity:.92}
hr{border:0;border-top:1px solid rgba(150,180,255,.16);margin:14px 0}
small{opacity:.8;line-height:1.5}
</style>
</head>
<body>
<div class="stars" aria-hidden="true"></div>
<div class="stars2" aria-hidden="true"></div>
<div class="vignette" aria-hidden="true"></div>

<header>
  <div class="wrap">
    <div class="brand">
      <div class="logo" aria-hidden="true">ğŸƒ</div>
      <div>
        <h1>file4.htmlï½œEã‚«ãƒ¼ãƒ‰é¢¨ã‚²ãƒ¼ãƒ </h1>
        <p>çš‡å¸ãƒ»å¸‚æ°‘ãƒ»å¥´éš·ã®èª­ã¿åˆã„ï¼ˆç°¡æ˜“ç‰ˆï¼‰</p>
      </div>
    </div>
    <nav aria-label="file4 navigation">
      <a class="btn" href="file3.html">â† å‰</a>
      <a class="btn" href="index.html">index</a>
      <a class="btn primary" href="file4_sub.html">å­«ãƒšãƒ¼ã‚¸ï¼šè‡ªç”±ãŠãˆã‹ã</a>
      <a class="btn" href="file5.html">æ¬¡ â†’</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h2>Eã‚«ãƒ¼ãƒ‰é¢¨ï¼ˆç°¡æ˜“ï¼‰</h2>
  <p>
    ãƒ‡ãƒƒã‚­ã¯å„5æšã€‚ã‚ãªãŸã¯ã€Œçš‡å¸å´ã€ã¾ãŸã¯ã€Œå¥´éš·å´ã€ã‚’é¸ã³ã¾ã™ã€‚<br>
    ãƒ«ãƒ¼ãƒ«ï¼š<strong>çš‡å¸ï¼å¸‚æ°‘ï¼å¥´éš·ï¼çš‡å¸</strong>ã€‚<strong>çš‡å¸VSå¥´éš·</strong>ã ã‘è³­ã‘ç‚¹ãŒå¤§ãã„(Â±5)ã€‚
  </p>

  <section class="panel">
    <div class="row">
      <div class="pill" id="chips">ãƒãƒƒãƒ—: 0</div>
      <div class="pill" id="turn">æ®‹ã‚Š: -</div>
      <div class="pill" id="side">ã‚µã‚¤ãƒ‰: æœªé¸æŠ</div>
    </div>

    <div id="start" style="margin-top:12px">
      <div class="row">
        <button class="btn primary" type="button" data-side="E">çš‡å¸å´ã§é–‹å§‹</button>
        <button class="btn primary" type="button" data-side="S">å¥´éš·å´ã§é–‹å§‹</button>
        <button class="btn" type="button" id="reset">ãƒªã‚»ãƒƒãƒˆ</button>
      </div>
      <small>é–‹å§‹å¾Œï¼šè‡ªåˆ†ã®æ‰‹æœ­ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦å‹è² ã—ã¾ã™ã€‚</small>
    </div>

    <hr>

    <div class="pill">ã‚ãªãŸã®æ‰‹æœ­ï¼ˆæ®‹ã‚Šï¼‰</div>
    <div id="deck" class="row" style="margin-top:10px"></div>

    <div class="pill" style="margin-top:12px">çµæœ</div>
    <div class="row" style="margin-top:10px;align-items:flex-start">
      <div class="pill" style="flex:1 1 280px">ã‚ãªãŸ: <strong id="you">-</strong></div>
      <div class="pill" style="flex:1 1 280px">ç›¸æ‰‹: <strong id="cpu">-</strong></div>
      <div class="pill" style="flex:1 1 280px">åˆ¤å®š: <strong id="res">-</strong></div>
    </div>

    <div class="pill" style="margin-top:12px">ãƒ­ã‚°</div>
    <div id="log" style="margin-top:8px">æœªé–‹å§‹ã€‚ã‚µã‚¤ãƒ‰ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</div>
  </section>
</main>

<script>
(()=> {
  const $=id=>document.getElementById(id);
  const chipsEl=$('chips'), turnEl=$('turn'), sideEl=$('side');
  const deckEl=$('deck'), logEl=$('log');
  const youEl=$('you'), cpuEl=$('cpu'), resEl=$('res');
  const startEl=$('start'), resetBtn=$('reset');

  let player=[], cpu=[], chips=0, started=false;

  const label=c=>c==='E'?'çš‡å¸':c==='S'?'å¥´éš·':'å¸‚æ°‘';
  const judge=(p,c)=>{
    if(p===c) return 'å¼•ãåˆ†ã‘';
    if(p==='E'&&c==='C') return 'å‹ã¡';
    if(p==='C'&&c==='S') return 'å‹ã¡';
    if(p==='S'&&c==='E') return 'å‹ã¡';
    return 'è² ã‘';
  };
  const stake=(p,c)=>((p==='E'&&c==='S')||(p==='S'&&c==='E'))?5:1;

  function setLog(line){
    logEl.textContent = line + "\n" + logEl.textContent;
  }

  function render(){
    chipsEl.textContent=`ãƒãƒƒãƒ—: ${chips}`;
    turnEl.textContent=started?`æ®‹ã‚Š: ${player.length} / ç›¸æ‰‹: ${cpu.length}`:'æ®‹ã‚Š: -';
    deckEl.innerHTML='';
    if(!started) return;

    player.forEach((card,idx)=>{
      const b=document.createElement('button');
      b.className='btn primary';
      b.type='button';
      b.textContent=label(card);
      b.addEventListener('click', ()=>play(idx));
      deckEl.appendChild(b);
    });
  }

  function start(side){
    chips=0; started=true;
    if(side==='E'){
      player=['E','C','C','C','C'];
      cpu=['S','C','C','C','C'];
      sideEl.textContent='ã‚µã‚¤ãƒ‰: çš‡å¸å´';
    }else{
      player=['S','C','C','C','C'];
      cpu=['E','C','C','C','C'];
      sideEl.textContent='ã‚µã‚¤ãƒ‰: å¥´éš·å´';
    }
    youEl.textContent='-'; cpuEl.textContent='-'; resEl.textContent='-';
    logEl.textContent='é–‹å§‹ï¼ã‚«ãƒ¼ãƒ‰ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚';
    render();
  }

  function play(idx){
    if(!started) return;
    const p=player.splice(idx,1)[0];
    const c=cpu.splice(Math.floor(Math.random()*cpu.length),1)[0];
    const r=judge(p,c);
    const s=stake(p,c);

    youEl.textContent=label(p);
    cpuEl.textContent=label(c);
    resEl.textContent=`${r}ï¼ˆè³­ã‘${s}ï¼‰`;

    if(r==='å‹ã¡') chips+=s;
    else if(r==='è² ã‘') chips-=s;

    setLog(`ã‚ãªãŸ ${label(p)} / ç›¸æ‰‹ ${label(c)} â†’ ${r} (${s})  ãƒãƒƒãƒ—=${chips}`);

    if(player.length===0){
      setLog(`--- çµ‚äº† --- æœ€çµ‚ãƒãƒƒãƒ—: ${chips}`);
      started=false;
    }
    render();
  }

  document.querySelectorAll('[data-side]').forEach(b=>{
    b.addEventListener('click', ()=>start(b.dataset.side));
  });

  resetBtn.addEventListener('click', ()=>{
    player=[]; cpu=[]; chips=0; started=false;
    sideEl.textContent='ã‚µã‚¤ãƒ‰: æœªé¸æŠ';
    chipsEl.textContent='ãƒãƒƒãƒ—: 0';
    turnEl.textContent='æ®‹ã‚Š: -';
    youEl.textContent='-'; cpuEl.textContent='-'; resEl.textContent='-';
    deckEl.innerHTML='';
    logEl.textContent='æœªé–‹å§‹ã€‚ã‚µã‚¤ãƒ‰ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚';
  });

  render();
})();
</script>
</body>
</html>