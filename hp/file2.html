<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>å‹•ããƒœã‚¿ãƒ³ã¨éŸ³ | file2</title>
<style>
:root{--a:122 215 255}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;color:#eaf0ff;overflow-x:hidden}
a,button{color:inherit;font:inherit}
.stars,.stars2,.vignette{position:fixed;inset:0;pointer-events:none}
.stars{z-index:-3;opacity:.85;background-image:
radial-gradient(1px 1px at 10% 20%,rgba(255,255,255,.9) 50%,transparent 51%),
radial-gradient(1px 1px at 30% 80%,rgba(255,255,255,.7) 50%,transparent 51%),
radial-gradient(1px 1px at 70% 30%,rgba(255,255,255,.8) 50%,transparent 51%),
radial-gradient(2px 2px at 90% 60%,rgba(255,255,255,.5) 50%,transparent 51%),
radial-gradient(1px 1px at 40% 40%,rgba(255,255,255,.6) 50%,transparent 51%),
radial-gradient(1px 1px at 15% 55%,rgba(255,255,255,.6) 50%,transparent 51%);
background-size:260px 260px;animation:d1 90s linear infinite}
.stars2{z-index:-4;opacity:.55;filter:blur(.3px);background-image:
radial-gradient(1px 1px at 12% 72%,rgba(255,255,255,.7) 50%,transparent 51%),
radial-gradient(2px 2px at 52% 10%,rgba(255,255,255,.45) 50%,transparent 51%),
radial-gradient(1px 1px at 82% 42%,rgba(255,255,255,.65) 50%,transparent 51%),
radial-gradient(1px 1px at 35% 35%,rgba(255,255,255,.55) 50%,transparent 51%);
background-size:520px 520px;animation:d2 180s linear infinite}
.vignette{z-index:-2;background:
radial-gradient(circle at 50% 35%,rgba(60,140,190,.24),rgba(0,0,0,1) 65%),
radial-gradient(circle at 50% 35%,rgba(0,0,0,0) 0 55%,rgba(0,0,0,.88) 85%)}
@keyframes d1{to{transform:translate3d(-260px,260px,0)}}
@keyframes d2{to{transform:translate3d(-520px,520px,0)}}
@media (prefers-reduced-motion:reduce){.stars,.stars2{animation:none}}
header{position:sticky;top:0;backdrop-filter:blur(10px);background:rgba(0,0,25,.55);border-bottom:1px solid rgba(150,180,255,.18);z-index:10}
.wrap{max-width:980px;margin:0 auto;padding:14px 16px}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:42px;height:42px;border-radius:14px;display:grid;place-items:center;background:rgb(var(--a)/.14);border:1px solid rgb(var(--a)/.42);box-shadow:0 0 30px rgb(var(--a)/.10)}
.brand h1{margin:0;font-size:1.08rem;letter-spacing:.06em}
.brand p{margin:2px 0 0;opacity:.85;font-size:.92rem}
nav{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid rgba(150,180,255,.25);text-decoration:none}
.btn.primary{background:rgb(var(--a)/.14);border-color:rgb(var(--a)/.42)}
.btn:active{transform:translateY(1px)}
main{padding:18px 16px 40px}
h2{margin:0 0 10px;font-size:1.15rem}
p{margin:0 0 12px;opacity:.92;line-height:1.65}
.panel{border:1px solid rgba(150,180,255,.22);background:rgba(0,0,0,.35);border-radius:18px;padding:14px}
#arena{position:relative;width:100%;height:min(58vw,420px);border-radius:16px;background:rgba(0,0,0,.35);border:1px solid rgba(150,180,255,.18);overflow:hidden;touch-action:none}
#runner{position:absolute;left:0;top:0;transform:translate(40px,40px);border-radius:999px;padding:12px 14px;border:1px solid rgb(var(--a)/.55);background:rgb(var(--a)/.14);box-shadow:0 0 22px rgb(var(--a)/.12)}
.controls{display:grid;gap:10px;margin-top:12px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
label{font-size:.9rem;opacity:.9}
input[type="range"]{width:min(420px,100%)}
.small{opacity:.85;font-size:.92rem;line-height:1.5}
.kpi{display:flex;gap:10px;flex-wrap:wrap}
.pill{padding:6px 10px;border-radius:999px;border:1px solid rgba(150,180,255,.22);background:rgba(0,0,0,.22);font-size:.9rem;opacity:.92}
</style>
</head>
<body>
<div class="stars" aria-hidden="true"></div>
<div class="stars2" aria-hidden="true"></div>
<div class="vignette" aria-hidden="true"></div>

<header>
  <div class="wrap">
    <div class="brand">
      <div class="logo" aria-hidden="true">ğŸ”Š</div>
      <div>
        <h1>file2.htmlï½œãƒœã‚¿ãƒ³ãŒå‹•ãã¨éŸ³ãŒå‡ºã‚‹</h1>
        <p>å£ã«å½“ãŸã‚‹ã¨ã€Œãƒ”ã‚³ãƒƒã€</p>
      </div>
    </div>
    <nav aria-label="file2 navigation">
      <a class="btn" href="file1.html">â† å‰</a>
      <a class="btn" href="index.html">index</a>
      <a class="btn primary" href="file2_sub.html">å­«ãƒšãƒ¼ã‚¸ï¼šè‡ªç”±ãŠãˆã‹ã</a>
      <a class="btn" href="file3.html">æ¬¡ â†’</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h2>å‹•ããƒœã‚¿ãƒ³ Ã— éŸ³</h2>
  <p>ä¸‹ã®ã‚¨ãƒªã‚¢ã§ãƒœã‚¿ãƒ³ãŒè·³ã­å›ã‚Šã¾ã™ã€‚<strong>æœ€åˆã«ã€ŒéŸ³ã‚’ONã€</strong>ã‚’æŠ¼ã™ã¨ã€åå°„ã®ãŸã³ã«éŸ³ãŒé³´ã‚Šã¾ã™ã€‚</p>

  <section class="panel">
    <div id="arena" aria-label="å‹•ããƒœã‚¿ãƒ³ã®ã‚¨ãƒªã‚¢">
      <button id="runner" type="button" aria-label="å‹•ããƒœã‚¿ãƒ³">MOVE!</button>
    </div>

    <div class="controls">
      <div class="kpi">
        <div class="pill" id="soundState">éŸ³ï¼šOFF</div>
        <div class="pill" id="bounceCount">åå°„ï¼š0</div>
        <div class="pill" id="speedView">é€Ÿåº¦ï¼š1.0x</div>
      </div>

      <div class="row">
        <button id="soundOn" class="btn primary" type="button">éŸ³ã‚’ON</button>
        <button id="toggle" class="btn" type="button">ä¸€æ™‚åœæ­¢</button>
        <button id="shuffle" class="btn" type="button">è»Œé“ãƒã‚§ãƒ³ã‚¸</button>
      </div>

      <div>
        <label for="speed">é€Ÿåº¦</label>
        <input id="speed" type="range" min="0.3" max="2.5" step="0.1" value="1.0">
      </div>

      <div class="small">â€» iPhoneç­‰ã¯ã€ŒéŸ³ã‚’ONã€ã‚’æŠ¼ã™ã¾ã§éŸ³ãŒå‡ºã¾ã›ã‚“ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ä»•æ§˜ï¼‰ã€‚</div>
    </div>
  </section>
</main>

<script>
(()=> {
  const arena=document.getElementById('arena');
  const btn=document.getElementById('runner');
  const speed=document.getElementById('speed');
  const speedView=document.getElementById('speedView');
  const bounceCount=document.getElementById('bounceCount');
  const soundState=document.getElementById('soundState');
  const soundOnBtn=document.getElementById('soundOn');
  const toggleBtn=document.getElementById('toggle');
  const shuffleBtn=document.getElementById('shuffle');

  let ac=null, soundOn=false, lastBeep=0;
  function ensureAudio(){
    if(ac) return;
    ac=new (window.AudioContext||window.webkitAudioContext)();
  }
  async function enableSound(){
    ensureAudio();
    try{ if(ac.state==='suspended') await ac.resume(); }catch(e){}
    soundOn=true;
    soundState.textContent='éŸ³ï¼šON';
  }
  function beep(freq=440, dur=0.08){
    const now=Date.now();
    if(!soundOn || !ac) return;
    if(now-lastBeep<70) return;
    lastBeep=now;
    const t=ac.currentTime;
    const o=ac.createOscillator();
    const g=ac.createGain();
    o.type='sine';
    o.frequency.setValueAtTime(freq, t);
    g.gain.setValueAtTime(0, t);
    g.gain.linearRampToValueAtTime(0.10, t+0.01);
    g.gain.exponentialRampToValueAtTime(0.0001, t+dur);
    o.connect(g).connect(ac.destination);
    o.start(t);
    o.stop(t+dur+0.02);
  }

  let x=40,y=40,vx=2.2,vy=1.7, b=0, running=true;
  function shuffle(){
    vx=(Math.random()*2.8+1.2)*(Math.random()<0.5?-1:1);
    vy=(Math.random()*2.8+1.2)*(Math.random()<0.5?-1:1);
    beep(220+Math.random()*520,0.06);
  }

  function tick(){
    const rect=arena.getBoundingClientRect();
    const bw=btn.offsetWidth, bh=btn.offsetHeight;
    const sp=Number(speed.value);
    speedView.textContent=`é€Ÿåº¦ï¼š${sp.toFixed(1)}x`;

    if(running){
      x+=vx*sp; y+=vy*sp;
      let bounced=false;

      if(x<0){x=0;vx*=-1;bounced=true}
      if(y<0){y=0;vy*=-1;bounced=true}
      if(x>rect.width-bw){x=rect.width-bw;vx*=-1;bounced=true}
      if(y>rect.height-bh){y=rect.height-bh;vy*=-1;bounced=true}

      btn.style.transform=`translate(${x}px,${y}px)`;

      if(bounced){
        b++; bounceCount.textContent=`åå°„ï¼š${b}`;
        beep(260+Math.random()*700,0.07);
      }
    }
    requestAnimationFrame(tick);
  }

  btn.addEventListener('click', ()=>{
    shuffle();
    beep(520+Math.random()*420,0.09);
  });

  soundOnBtn.addEventListener('click', enableSound);
  toggleBtn.addEventListener('click', ()=>{
    running=!running;
    toggleBtn.textContent=running?'ä¸€æ™‚åœæ­¢':'å†é–‹';
    beep(running?660:220,0.08);
  });
  shuffleBtn.addEventListener('click', shuffle);

  addEventListener('resize', ()=>{ x=Math.min(x, arena.clientWidth-btn.offsetWidth); y=Math.min(y, arena.clientHeight-btn.offsetHeight); }, {passive:true});

  tick();
})();
</script>
</body>
</html>